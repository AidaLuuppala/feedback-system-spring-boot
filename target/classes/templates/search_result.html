<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title></title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel = "stylesheet" href = "https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" th:href="@{/assets/css/style.css}" />
    <title>Feedbacks</title>
</head>
<body>

<nav class="navbar navbar-expand-lg navbar-light bg-light">
<div>

<ul class="navbar-nav mr-auto mt-2 mt-lg-0">
  <li class="nav-item">
    <a class="btn btn-primary" href="/feedbacks">Palautteet</a>
  </li>
  <li class="nav-item">
    <a class="btn btn-secondary" href="/add">Palautelomakkeeseen</a>
  </li>
  <li class="nav-item">
  	<form class="form-inline" th:action="@{/search}" method="post">
	  	<label class="navelement" for="search">Haku: </label>
		<input class="form-control navelement" type="text" id="searchWord" name="searchWord" />
		<input class="btn btn-primary navbarbtn" type="submit" onclick="checkSearchWord()" value="Search"></input>
	</form>
  </li>
  <li class="nav-item">
	<form lass="form-inline" th:action="@{/logout}" method="post">
		<input class="btn btn-primary navbarbtn" type="submit" value="Sign Out"/>
	</form>
	</li>
</ul>

</div>
</nav>
	
    <table class="table table-striped">
    <thead>
		<tr>
			<th scope="col">Tunnus</th>
		    <th scope="col">Päivämäärä</th>
		    <th scope="col">Palautteen tyyppi</th>
		    <th scope="col">Palautteen antajan tyyppi</th>
		    <th scope="col">Palautteen aihe</th>
		    <th scope="col">Palautteen status</th>
		    <th scope="col">Kieli</th>
		    <th scope="col">Palauteteksti</th>
		    <th scope="col">Haluaa vastauksen</th>
		    <th scope="col">Etunimi</th>
		    <th scope="col">Sukunimi</th>
		    <th scope="col">Sähköposti</th>
		    <th scope="col">Puhelinnumero</th>
		    <th scope="col"></th>
		</tr>
	</thead>
    	<tr th:each = "feedback : ${feedbacks}">
    		<td th:text="${feedback.feedback_id}"></td>
    		<td th:text="${{feedback.feedback_date}}"></td>
    		<td th:text="${feedback.feedback_type}"></td>
    		<td th:text="${feedback.feedback_giver_type}"></td>
    		<td th:text="${feedback.feedback_topic}"></td>
    		<td th:text="${feedback.feedback_status}"></td>
    		<td th:text="${feedback.language}"></td>
    		<td th:text="${feedback.feedback_text}"></td>
    		<td th:text="${feedback.wants_contact}"></td>
    		<td th:text="${feedback.contact_firstname}"></td>
    		<td th:text="${feedback.contact_lastname}"></td>
    		<td th:text="${feedback.contact_email}"></td>
    		<td th:text="${feedback.contact_mobile}"></td>
    		<td><form th:action="@{/edit}" method="post">
    			<input type="hidden" name="feedback_id" th:value="${feedback.feedback_id}"/>
				<input class="btn btn-primary" type="submit" value="Käsittele"/>
			</form></td>
    	</tr>
     </table>
<script src = "https://code.jquery.com/jquery-3.3.1.slim.min.js"> </script>
<script src = "https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" > </script>
<script src = "https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" > </script>

<script>
	function checkSearchWord() {
	    var searchWord = document.getElementById("searchWord").value;
	    if (searchWord == "") {
	    	document.getElementById("searchWord").value = "search";
	    }
	}
    
</script>
</body>
</html>